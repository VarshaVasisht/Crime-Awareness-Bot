{"version":3,"sources":["components/NavigationBar.js","config.js","components/ChatWidget.js","components/Posts.js","components/Welcome.js","components/FormUserDetails.js","components/FormTravelDetails.js","components/Confirm.js","components/Permission.js","components/Login.js","components/common/ListGroup.js","components/common/Pagination.js","services/TypeService.js","components/common/TableHeader.js","components/common/TableBody.js","components/common/MyTable.js","components/PermissionsTable.js","components/SearchBox.js","components/Dashboard.js","services/PaginateService.js","components/Details.js","components/Status.js","services/AlertService.js","services/PoliceService.js","components/LiveMap.js","services/CrimeClusterService.js","components/Stats.js","App.js","serviceWorker.js","index.js"],"names":["NavigationBar","Component","render","user","this","props","Navbar","bg","variant","to","className","src","width","height","alt","Nav","backend","buttons","label","value","ChatBox","constructor","super","initialValues","name","mobile","description","handleClose","setState","show","handleShow","componentDidMount","localObj","navigator","geolocation","getCurrentPosition","position","state","data","lat","coords","latitude","lon","longitude","watchPosition","console","log","addResponseMessage","addLinkSnippet","title","link","target","setQuickButtons","toggleInputDisabled","handleSubmit","values","onSubmitProps","vals","axios","post","then","response","window","location","toast","success","catch","error","validationSchema","Yup","required","handleQuickButtonClicked","addUserMessage","flag","dropMessages","toggleWidget","category","toString","sendCompliant","config","method","url","status","handleNewUserMessage","newMessage","prevKey","Object","keys","idx","key","p_id","uid","toggleMsgLoader","message","email","district","place","Container","subtitle","autoFocus","showTimeStamp","Modal","onHide","backdrop","keyboard","Header","closeButton","Title","Body","onSubmit","formik","htmlFor","type","id","autoComplete","Footer","Button","disabled","isValid","isSubmitting","Posts","posts","React","createRef","handleAdd","handleDelete","originalPosts","filter","p","length","Fragment","reverse","slice","map","onClick","Card","Form","Control","ref","input","placeholder","as","Welcome","history","push","handleLogout","localStorage","clear","Jumbotron","toLowerCase","Permission","Login","password","setItem","setSubmitting","resetForm","style","background","icon","faSignInAlt","faUndo","MyListGroup","types","selectedType","onTypeSelect","ListGroup","Item","_id","MyPagination","totalCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","Pagination","size","page","getTypes","e","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","faSortDown","faSortUp","columns","TableBody","renderCell","item","content","date","get","Date","indexOf","substring","createKey","date_created","Table","PermissionsTable","permission","pathname","cursor","faTrash","onDelete","faCheckCircle","permissions","MyTable","SearchBox","onChange","currentTarget","Dashboard","searchQuery","handleTypeSelect","handlePageChange","handleSort","handleSearch","query","getPagedData","allPermissions","filtered","startsWith","pageNumber","startIndex","take","paginate","orderBy","getItem","count","Details","markSafeOrUnsafe","val","Text","textAlign","Status","permission_id","preventDefault","defaultValue","print","async","renderAlert","alert","pulsingDot","newDot","random","Uint8Array","onAdd","canvas","document","createElement","context","getContext","t","performance","now","outerRadius","clearRect","beginPath","arc","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","getImageData","triggerRepaint","createDot","on","reverseLatLong","fetch","json","reverseGeocoding","mapAlert","features","place_name","split","popup","mapboxgl","Popup","closeOnClick","dynamicImage","addImage","pixelRatio","addSource","addLayer","getCanvas","coordinates","geometry","abs","lngLat","lng","setLngLat","setHTML","addTo","getZones","forEach","allocate","u","offset","head","zone_name","Marker","color","rotation","setPopup","helper","accessToken","LiveMap","locatePoint","getAlerts","alerts","getStations","zones","flyToPoint","flyTo","center","zoom","essential","mapContainer","Map","container","current","getCenter","toFixed","getZoom","addControl","MapboxDirections","profile","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","cluster","clusterMaxZoom","clusterRadius","source","paint","layout","queryRenderedFeatures","point","layers","clusterId","properties","cluster_id","getSource","getClusterExpansionZoom","err","easeTo","pop","mag","html","year","month","summary","city","attack","remove","loadClusters","Row","Col","md","Badge","faMapMarkerAlt","zone","Stats","renderColumnNames","colmunList","index","change","selectedState","stats","renderCsvDataResults","csvDataObject","apiData","state_year","rows","cols","overflowY","overflow","rowData","dialogClassName","aria-labelledby","states","s","display","maxWidth","chartType","loader","options","hAxis","titleTextStyle","vAxis","minValue","chartArea","HelloGetRequestedDetails","loading","App","handleChange","ex","lg","marginTop","exact","component","href","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3632f599.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class NavigationBar extends Component {\r\n  render() {\r\n    const { user } = this.props;\r\n\r\n    return (\r\n      <Navbar bg=\"dark\" variant=\"success\">\r\n        <Link to={\"\"} className=\"navbar-brand\">\r\n          <img\r\n            src=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMTI3Ljk4IDIwMTYuODciIGZpbGw9IiM0MWUwZmQiPgogIDxwYXRoICBkPSJNODg4IDExMTkuMTdjMTYtMzIuNjIgMzIuODQtNjUuMzcgNTAuMTctOTcuMzVsLjE1LS4yNyAxOC4zOS0zNS42OCAyNy4xNi00NSAuMTctLjI5YzEwLjE0LTE3LjI2IDIwLjY2LTM0LjY4IDMxLjI3LTUxLjc4bDE4LjY5LTMwLjg3YzI0Ljg4LTQxLjE5IDQ0Ljg4LTcxLjIzIDc2LjQzLTExNC43NiAxNy0yMy40MyAzMy4xMi00NCA1OC42Ni03NS45MmwuMDYtLjA2IDEuMjYtMS41OS40OS0uNjNjMTAuMzctMTMuMjIgMjAuODQtMjYuMjUgMzEuMTEtMzguNzNsLjM0LS40Mi4yLS4yNWMyMy44My0yOS41MSA0OC4xMi01OS4xMyA3Mi4xOS04OGw5LjU3LTExLjQ4VjM1Ni41NEgxMjY3Yy05LjIzLTguNjgtMTguNjYtMTcuMy0yOC4wOC0yNS42OS03Ni4zMi02Ny43Mi0xNTIuNDMtMTIwLjg1LTIyNi4yNy0xNTcuNzktNzUuNzEtMzcuOTItMTQ1LjYzLTU3LjE0LTIwNy44LTU3LjE0LTQ0LjM5IDAtODQuMDYgOS45NC0xMTcuOTEgMjkuNTMtMzIuNTUgMTguODQtNTkuOSA0Ni45MS04MS4zMSA4My40NC0yMC4wNiAzNC4yMy0zNC44NCA3NS44OS00My45NSAxMjMuODEtMTcuNTQgOTIuMzctMTMuNzQgMjA4IDExIDMzNC4zNCAzLjEyIDE1LjkgNi41NiAzMiAxMC4yNSA0OC0xOS43NCA2LTM4LjkxIDEyLjE4LTU3LjEzIDE4LjUzLTExOS4yNiA0MS41OC0yMTkgOTUuOTEtMjg4LjQyIDE1Ny4xNC0zNiAzMS43MS02My44NCA2NS4yMy04Mi44OSA5OS42Mi0yMC4yNCAzNi41Ny0zMC41MSA3NC4wOC0zMC41MSAxMTEuNDkgMCA3NSA0MS41NSAxNTEgMTIwLjE1IDIxOS45NCA3NCA2NC45MyAxNzguNjUgMTIxLjYyIDMwMi41NSAxNjQgMTEuNTEgMy45MSAyMy4yMiA3LjcxIDM1IDExLjM0LTQuMTIgMTcuOTMtNy45MyAzNi0xMS4zNiA1NC0yMy41NiAxMjQuMDgtMjYuMzEgMjM3LjYyLTggMzI4LjM1IDkuNTEgNDcgMjQuNjEgODcuODkgNDQuODkgMTIxLjU3IDIxLjU2IDM1LjggNDguOTMgNjMuNDQgODEuMzQgODIuMTMgMzQuMTUgMTkuNjkgNzQuMzQgMjkuNjcgMTE5LjQ1IDI5LjY3IDYxLjQyIDAgMTMwLjA5LTE4LjIxIDIwNC4xMS01NC4xMyA3Mi41Ni0zNS4yMSAxNDYuNjMtODUuNjQgMjIwLjEzLTE0OS44OSAxMS4zMy05LjkgMjMtMjAuNDkgMzQuNjYtMzEuNTNoMTcuNDF2LTE3NC4zOWwtNi4zNC03LjgtMy0zLjY3LTc5LjgyLTk4LjU1LTQ0LjM1LTU0Ljc1Yy0yMi4zOS0yNy42NC01OC4yNS03OC43OS0xMDEtMTQ0LTM0LTUxLjg0LTU4Ljc2LTkzLjQ3LTcwLjUtMTEzLjYzbC0xLjI4LTIuMjFjLTIwLjQ5LTM1LjMzLTM1LjcxLTYzLjc5LTQ3LjkzLTg2LjY0LTE1LjMtMjguNjMtMzAuMzktNTcuODctNDQuOTEtODdsMi42Ni01LjE3em0tODAuODYtMTcyLjg5Yy0xMy41My0zNC43LTI1LjkyLTY5LjEzLTM3LTEwMi44MSAzNC41Ny03LjEzIDcwLjUxLTEzLjUzIDEwNy4zMi0xOS4xMS0xMi4yOCAyMC4xMS0yNC4zNCA0MC40MS0zNiA2MC42NHMtMjMuMTIgNDAuNjktMzQuMzIgNjEuMjh6bS0zOC4yNSA0NjIuMWMxMS40NS0zNC44NiAyNC4zMS03MC41NiAzOC4zOS0xMDYuNTkgMTEuMjkgMjAuNyAyMi44NyA0MS4zIDM0LjU4IDYxLjUzIDEyLjI3IDIxLjE5IDI1IDQyLjQ4IDM3Ljk1IDYzLjU4LTM4LjQ2LTUuMzItNzUuNjItMTEuNTMtMTEwLjkyLTE4LjUxek03MDcuMTggMzk3LjE2YzktNjEuNzQgMjkuMTQtMTA1Ljg3IDU1LjM3LTEyMS4wNiAxMC44OS02LjMxIDI1LjM0LTkuNSA0Mi45My05LjUgMzguNDcgMCA4OC4yNCAxNS4xIDE0My45MSA0My42NyA2MC4zNCAzMSAxMjUuNzcgNzcuMTEgMTg5LjIyIDEzMy40NXE1LjkgNS4yNCAxMi4wNyAxMC44OWMtNTUuODEgNjEuNzEtMTEwLjgxIDEzMC4yOC0xNjMuNjggMjA0LjEtOTAuMDggOC44LTE3Ni42OCAyMS45NC0yNTcuNzYgMzkuMTEtMi45My0xMi44NC01LjY4LTI1Ljc1LTguMi0zOC41bC0uMjQtMS4zMmMtMTkuMzMtOTguNzYtMjQuMDQtMTg5LTEzLjYyLTI2MC44NHptMTEuMzEgNzI3Yy0zOC4xIDg0LTcwLjQ4IDE2Ny4xNi05Ni4zNyAyNDcuNDYtOS0yLjgtMTcuODktNS43Mi0yNi42NS04LjctMTAzLTM1LjIxLTE4OC43OS04MC42Ni0yNDguMDgtMTMxLjQzLTQ1LjM3LTM4Ljg1LTcyLjQ1LTc5LjgzLTcyLjQ1LTEwOS42MyAwLTMwLjU5IDI3LjA5LTcwIDc0LjM0LTEwOC4yIDU1LTQ0LjQ3IDEzMy4yNy04NS4xMSAyMjYuMTktMTE3LjUgMTUuNzktNS40OCAzMS44Ny0xMC43MyA0OC0xNS42NCAyNS41MyA3OS4xMyA1Ny40OCAxNjAuOTkgOTUuMDEgMjQzLjYzem0uMTIgNDc0LjkyYzIuODYtMTUgNi0zMC4wOSA5LjQzLTQ1LjA5IDgwIDE2LjM3IDE2Ny41OSAyOC43MSAyNjAuNzUgMzYuNzEgNTMuMzggNzQuMzQgMTA4Ljg0IDE0My4zNyAxNjUuMDUgMjA1LjQ0LTYuOTQgNi4zOS0xMy45NCAxMi42OC0yMC45IDE4Ljc5LTgxLjM3IDcxLjEzLTE2My4wOSAxMjIuNTUtMjM2LjI4IDE0OC43MWwtMS41Mi41NGMtMzIuOCAxMS41OC02Mi4wOSAxNy40NS04NyAxNy40NS0xOC4zOCAwLTMzLjIyLTMuMTgtNDQuMTEtOS40Ni0yNi41MS0xNS4yOS00Ny4xNC01OC40Ni01Ni42LTExOC40NS0xMS4wNi02OS45MS03LjE5LTE1Ny45NyAxMS4xNy0yNTQuNjV6IgogICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMy45OCAtMTE1LjkyKSIgaWQ9Il9Hcm91cF8iIGRhdGEtbmFtZT0iJmx0O0dyb3VwJmd0OyIgLz4KICA8cGF0aCBkPSJNMjE5NS4wNyAxMjA1LjFxLTU2LjI2LTEwMy40NS0xNjUuNTQtMTM0LjIzYTIuODUgMi44NSAwIDAgMS0xLjc5LTIuODUgMyAzIDAgMCAxIDEuMzctMi42OGM1NC4yNC0zMC4xNiA5NS45My03My4xMSAxMjUuMTUtMTI3LjlxNDQuMTUtODIuODkgNDQuMTYtMTk5LjQ5YzAtMTI4LjI1LTMyLjQ1LTIyMy42NS05Ny4wNi0yODcuMTFzLTE1MC42Mi05NS0yNTcuNy05NWgtNTc4LjM1Yy0xLjI1IDAtMi4yNyAxLjMxLTIuMjcgMi45M1YxODk0LjNjMCAxLjYyIDEgMi45MyAyLjI3IDIuOTNoNTQ2LjU3cTExNS40MiAwIDE5OS4xMS0zMy42OWM1NS45MS0yMi40MiAxMDEuNC01Mi42OCAxMzcuMjEtOTAuNjhzNjEuOTItODMuMzMgNzguNjYtMTM2YzE2Ljc0LTUyLjIzIDI1LjEtMTA4LjggMjUuMS0xNjkuMjQuMDQtMTA1LjM3LTE5LjA4LTE5Mi41Ny01Ni44OS0yNjIuNTJ6bS03MjIuMzItNjI4YzAtMS42MiAxLTIuOTMgMi4yNy0yLjkzaDMzOS40NmM1Ni45NSAwIDEwMC41MSAxNiAxMzAuNjUgNDcuNTVzNDUuMiA4Ni40IDQ1LjIgMTY0LjE4YzAgNjkuMTgtMTYuNzQgMTIxLjkyLTUwLjI1IDE1OS4wOHMtNzUuMzcgNTUuMzItMTI1LjYzIDU1LjMySDE0NzVjLTEuMjUgMC0yLjI3LTEuMzEtMi4yNy0yLjkzem01MTguMTYgMTAzNS44Yy0zNC44NiA0Mi43Ni04NC40MSA2NC0xNDguMDcgNjRIMTQ3NWMtMS4yNSAwLTIuMjctMS4zMS0yLjI3LTIuOTN2LTQ3Ni40YzAtMS42MiAxLTIuOTMgMi4yNy0yLjkzaDM2Ny44MmM2My42NiAwIDExMi41NyAxOS44OSAxNDguMDcgNjEuMzVzNTIuOTMgOTkuODIgNTIuOTMgMTc2LjNjLjAyIDc3Ljc3LTE3Ljc2IDEzOC4yNy01Mi45MSAxODAuNjF6IgogICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMy45OCAtMTE1LjkyKSIgLz48L3N2Zz4K\"\r\n            width=\"25\"\r\n            height=\"25\"\r\n            alt=\"brand\"\r\n          />\r\n        </Link>\r\n        <Nav className=\"mr-auto\">\r\n          <Link to={\"/\"} className=\"nav-link\">\r\n            Home\r\n          </Link>\r\n          <Link to={\"/status\"} className=\"nav-link\">\r\n            Status\r\n          </Link>\r\n          <Link to={\"/api\"} className=\"nav-link\">\r\n              API\r\n          </Link>\r\n          {!user ? (\r\n            <div />\r\n          ) : (\r\n            <Link to={\"/dashboard\"} className=\"nav-link\">\r\n              Dashboard\r\n            </Link>\r\n          )}\r\n           <Link to={\"/stats\"} className=\"nav-link\">\r\n            Statistics\r\n          </Link>\r\n          <Link to={\"/sos\"} className=\"nav-link\">\r\n            SOS\r\n          </Link>\r\n          \r\n        </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n","let backend = 'http://localhost:8000';\r\nexport default backend;","import React, {Component} from 'react';\r\nimport { toast } from \"react-toastify\";\r\nimport 'react-chat-widget/lib/styles.css';\r\nimport \"../App.css\";\r\nimport axios from \"axios\";\r\nimport { Widget, \r\n    addResponseMessage, \r\n    addUserMessage, \r\n    addLinkSnippet, \r\n    setQuickButtons, \r\n    toggleMsgLoader, \r\n    toggleWidget, \r\n    toggleInputDisabled,\r\n    dropMessages,\r\n    setBadgeCount,\r\n} from 'react-chat-widget';\r\nimport * as Yup from \"yup\";\r\nimport backend from \"../config\";\r\n\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport { Container, Modal, Button } from 'react-bootstrap';\r\n\r\nconst buttons = [{label: 'Chat With Me ?', value: '1'}, {label: 'Register Compliant', value: '2'}, {label: 'Check Status', value: 'status'}, {label: 'SOS', value: 'sos'}];\r\n\r\nclass ChatBox extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: {\r\n                uid: \"Please input your Aadhar Number.\",\r\n                name: \"Please mention your full name as mentioned in Aadhaar Card\",\r\n                mobile: \"What's your Mobile Number ?\",\r\n                email: \"Enter your email address..\",\r\n                district: \"In which district do you live currently ?\",\r\n                place: \"Where did the Incident took place ?\",\r\n                category: \"Please choose the Incident type from below..\",\r\n                description: \"\",\r\n                url: \"In case you got any incident pictures that can help, please upload it here\",\r\n            },\r\n            show: false,\r\n            idx: 1,\r\n            flag: -1\r\n        };\r\n    }\r\n\r\n    initialValues = {\r\n        name: \"\",\r\n        mobile: \"\",\r\n        description: \"\",\r\n      };\r\n    \r\n\r\n    handleClose = () => this.setState({show: false});\r\n    handleShow = () => this.setState({show: true});\r\n\r\n    // flag : -1 : None\r\n    // flag : 1 : compliant registration\r\n\r\n    componentDidMount = () => {\r\n        var localObj = this;\r\n        navigator.geolocation.getCurrentPosition(function(position) {\r\n            localObj.state.data.lat = position.coords.latitude + \"\";\r\n            localObj.state.data.lon = position.coords.longitude + \"\";\r\n          });\r\n        if (navigator.geolocation) {\r\n        navigator.geolocation.watchPosition(function(position) {\r\n            console.log(\"Latitude is :\", position.coords.latitude);\r\n            console.log(\"Longitude is :\", position.coords.longitude);\r\n        });\r\n        }\r\n        addResponseMessage('Hi there, I am Jagrukta : ) I can help you register a compliant or make you aware about crimes...');\r\n        addResponseMessage('Here are few quick links to help you..');\r\n        addLinkSnippet({ title: 'Crime In India', link: \"https://ncrb.gov.in/en/crime-india\", target: '_blank' });\r\n        addLinkSnippet({ title: 'Crime Prevention', link: \"https://publicsafety.columbia.edu/content/crime-prevention-tips\", target: '_blank' });\r\n        setQuickButtons(buttons);\r\n        toggleInputDisabled();\r\n        \r\n    }\r\n\r\n    handleSubmit = (values, onSubmitProps) => {\r\n        \r\n        const vals = {\r\n            name: values.name,\r\n            mobile: values.mobile,\r\n            description: values.description,\r\n            lat: this.state.data.lat,\r\n            lon: this.state.data.lon\r\n        };\r\n\r\n        axios\r\n            .post(backend + \"/police/add-sos/\", vals)\r\n            .then((response) => {\r\n                if (response.data != null) {\r\n                var data = response.data\r\n                window.location = \"/sos\";\r\n                toast.success(\"Emergency received. Please be online..\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    validationSchema = Yup.object({\r\n        mobile: Yup.string().required(\"Mobile is required\"),\r\n        description: Yup.string().required(\"please describe the issue..\"),\r\n      });\r\n\r\n    handleQuickButtonClicked = data => {\r\n        toggleInputDisabled();\r\n        setQuickButtons([]);\r\n        if(data == 1) {\r\n            // chat\r\n            addResponseMessage('So.. How can I help you ?');\r\n\r\n        }\r\n        else if(data == 2) {\r\n            // compliant\r\n            addUserMessage('Register Compliant');\r\n            addResponseMessage('Sure, follow along..');\r\n            addResponseMessage('please input your ' + \"Aadhaar Number\");\r\n            var flag = 1;\r\n            this.setState({ flag });\r\n        }\r\n        else if(data == 'new') {\r\n            dropMessages();\r\n            toggleWidget();\r\n        }\r\n        else if(data == 'status') {\r\n            addUserMessage('Check Status');\r\n            var statusUrl = \"http://localhost:3000/status/\";\r\n            addLinkSnippet({ title: 'Check Status Here..', link: statusUrl, target: '_blank' });\r\n            addResponseMessage(\"Any more Queries ?\");\r\n        }\r\n        else if(data == 'sos') {\r\n            addUserMessage('SOS');\r\n            addResponseMessage(\"Your location is being shared with police. Please be online...\");\r\n            addLinkSnippet({ title: 'Visit here', link: \"http://localhost:3000/sos\", target: '_blank' });\r\n            this.handleShow();\r\n          \r\n        }\r\n        else {\r\n            this.state.data.category = data.toString();\r\n            addResponseMessage('Please describe the incident');\r\n        }\r\n    }\r\n\r\n    sendCompliant = () => {\r\n        const data = this.state.data;\r\n        var config = {\r\n        method: \"post\",\r\n        url: backend + \"/police/add-compliant/\",\r\n        data: data,\r\n        };\r\n        console.log(data);\r\n        axios(config)\r\n        .then((response) => {\r\n            if (response.status === 200) {\r\n                console.log(response);\r\n                toast.success(\"Compliant Registered\");\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            toast.error(\"Please provide valid input..\");\r\n        });\r\n    }\r\n\r\n    handleNewUserMessage = (newMessage) => {\r\n        var flag = this.state.flag;\r\n        if(flag === 1) {\r\n            var prevKey = Object.keys(this.state.data)[this.state.idx - 1];\r\n            if(prevKey === 'category') {\r\n                this.state.data.description = newMessage\r\n                this.state.idx += 1;\r\n            } else {\r\n                this.state.data[prevKey] = newMessage;\r\n            }\r\n            var key = Object.keys(this.state.data)[this.state.idx];\r\n            this.state.idx += 1;\r\n            \r\n            addResponseMessage(this.state.data[key]);\r\n            \r\n            if(key === 'category') {\r\n                const buttons = [{label: 'Cognizable', value: 'Cognizable'}, {label: 'Non Cognizable', value: 'Non Cognizable'}, {label: 'Missing Case', value: 'Missing Report'}, {label: 'Theft', value: 'Theft Report'}];\r\n                setQuickButtons(buttons);\r\n                toggleInputDisabled();\r\n            }\r\n            else if(key === 'url') {\r\n                var url = \"https://drive.google.com/\";\r\n                addLinkSnippet({ title: 'Incident Pictures', link: url, target: '_blank' });\r\n                this.state.data.url = url;\r\n                var p_id = this.state.data.uid + \"@\" + this.state.data.mobile;\r\n                this.sendCompliant();\r\n                addResponseMessage(\"Thanks for the details, our Officer will get back to you once he is online\");\r\n                addResponseMessage(\"You can check status using the compliant ID : \" + p_id);\r\n                toggleInputDisabled();\r\n                const buttons = [{label: 'New Chat', value: 'new'}];\r\n                setQuickButtons(buttons);\r\n                var flag = -1;\r\n                this.setState({ flag });\r\n                this.state.idx = 1;\r\n            }\r\n        }\r\n        else {\r\n            toggleMsgLoader();\r\n            const vals = {\r\n                message: newMessage\r\n            };\r\n\r\n            axios\r\n            .post(backend + \"/bot/\", vals)\r\n            .then((response) => {\r\n                if (response.data != null) {\r\n                var data = response.data\r\n                addResponseMessage(data.response);\r\n                toggleMsgLoader();\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n            \r\n        }\r\n        \r\n        \r\n    };\r\n\r\nrender() {\r\n    \r\n    const {show} = this.state;\r\n    return (\r\n        <Container>\r\n            <div className=\"App\">\r\n                <Widget \r\n                handleNewUserMessage={this.handleNewUserMessage}\r\n                title=\"AskNow\"\r\n                subtitle=\"Crime Awareness & Registration Portal\"\r\n                autoFocus=\"true\"\r\n                showTimeStamp=\"true\"\r\n                handleQuickButtonClicked={this.handleQuickButtonClicked}\r\n            />\r\n            </div>\r\n\r\n            <Modal\r\n                show={show}\r\n                onHide={this.handleClose}\r\n                backdrop=\"static\"\r\n                keyboard={false}\r\n            >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Emergency Information</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Formik\r\n                    initialValues={this.initialValues}\r\n                    validationSchema={this.validationSchema}\r\n                    onSubmit={this.handleSubmit}>\r\n                {(formik) => {\r\n                    return (\r\n                    <Form>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                            <label htmlFor=\"name\">Full Name</label>\r\n                            <Field\r\n                                type=\"text\"\r\n                                id=\"name\"\r\n                                name=\"name\"\r\n                                className={\"form-control\"}\r\n                            />\r\n                            <div className=\"error\">\r\n                                <ErrorMessage name=\"name\" />\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        <br></br>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                            <label htmlFor=\"mobile\">Mobile</label>\r\n                            <Field\r\n                                type=\"text\"\r\n                                id=\"mobile\"\r\n                                name=\"mobile\"\r\n                                autoComplete=\"on\"\r\n                                className={\"form-control\"}\r\n                            />\r\n                            <div className=\"error\">\r\n                                <ErrorMessage name=\"mobile\" />\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                            <label htmlFor=\"mobile\">What's your Emergency ?</label>\r\n                            <Field\r\n                                type=\"text\"\r\n                                id=\"description\"\r\n                                name=\"description\"\r\n                                autoComplete=\"on\"\r\n                                className={\"form-control\"}\r\n                            />\r\n                            <div className=\"error\">\r\n                                <ErrorMessage name=\"description\" />\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        <Modal.Footer>\r\n                            <Button\r\n                                variant=\"success\"\r\n                                type=\"submit\"\r\n                                disabled={!formik.isValid || formik.isSubmitting}\r\n                            >\r\n                                Submit&nbsp;\r\n                            </Button>\r\n                            &nbsp;&nbsp;&nbsp;\r\n                            <Button variant=\"danger\" type=\"reset\">\r\n                                Reset&nbsp;\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Form>\r\n                    );\r\n                }}\r\n                </Formik>\r\n            </Modal.Body>\r\n            </Modal>\r\n        </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatBox;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Card, Form } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport backend from \"../config\";\r\n\r\nclass Posts extends Component {\r\n  state = {\r\n    posts: [],\r\n  };\r\n  title = React.createRef();\r\n  description = React.createRef();\r\n  componentDidMount() {\r\n    var data = \"\";\r\n    var config = {\r\n      method: \"get\",\r\n      url: backend + \"/police/get-posts/\",\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then((response) => {\r\n        if (response.data != null) {\r\n          this.setState({ posts: response.data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"An unexpected error Occurred\");\r\n      });\r\n  }\r\n\r\n  handleAdd = () => {\r\n    const { user } = this.props;\r\n    \r\n    if (user && user.uid) {\r\n      const data = {\r\n        title: this.title.value,\r\n        description: this.description.value,\r\n      };\r\n      \r\n      var config = {\r\n        method: \"post\",\r\n        url: backend + \"/police/add-post/\",\r\n        data: data,\r\n      };\r\n\r\n      axios(config)\r\n        .then((response) => {\r\n          if (response.data != null) {\r\n            const posts = [...this.state.posts, data];\r\n            this.componentDidMount();\r\n            toast.success(\"Successfully created a new Post\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          toast.error(\"An unexpected error Occurred.\");\r\n        });\r\n      this.title.value = \"\";\r\n      this.description.value = \"\";\r\n    }\r\n  };\r\n\r\n  handleDelete = (post) => {\r\n    const { user } = this.props;\r\n    if (user && user.uid) {\r\n      const originalPosts = this.state.posts;\r\n\r\n      const posts = this.state.posts.filter((p) => p.id !== post.id);\r\n      this.setState({ posts });\r\n\r\n      const data = {\r\n        id: post.id,\r\n      };\r\n      console.log(data);\r\n      var config = {\r\n        method: \"post\",\r\n        url: backend + \"/police/delete-post/\",\r\n        data: data,\r\n      };\r\n\r\n      axios(config)\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            toast.success(\"Successfully Deleted\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          toast.error(\"An unexpected error Occurred.\");\r\n          this.setState({ posts: originalPosts });\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { posts } = this.state;\r\n    const { user } = this.props;\r\n    if (posts.length === 0 && !user)\r\n      return <p className=\"text-secondary\">No Announcements yet..</p>;\r\n    return (\r\n      <React.Fragment>\r\n        <br />\r\n        {!user ? (\r\n          <h4 className=\"text-primary text-center\">Latest Announcements</h4>\r\n        ) : (\r\n          <h4 className=\"text-primary text-center\">Your Announcements</h4>\r\n        )}\r\n        <br />\r\n        <div className=\"col table-responsive-md\">\r\n          <table className={\"table table-dark  text-white table-striped\"}>\r\n            <tbody>\r\n              {posts\r\n\r\n                .reverse()\r\n                .slice(0, 4)\r\n                .map((post) => (\r\n                  <tr key={post.id + \"@\" + post.title}>\r\n                    <td className=\"bg-dark text-white\">\r\n                      <strong>\r\n                        {\" \"}\r\n                        <p className=\"text-warning\">{post.title}</p>\r\n                      </strong>\r\n\r\n                      <p>{post.description}</p>\r\n                      {user && (\r\n                        <div className=\"float-right\">\r\n                          &nbsp;&nbsp;&nbsp;&nbsp;\r\n                          <Button\r\n                            variant=\"danger\"\r\n                            onClick={() => this.handleDelete(post)}\r\n                            className=\"btn-sm\"\r\n                          >\r\n                            Delete\r\n                          </Button>\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <br />\r\n        {user && (\r\n          <div className=\"col-md-8\">\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n              <Card.Body>\r\n                <Card.Title className=\"text-white\">\r\n                  New Announcement\r\n                  <Button\r\n                    variant=\"success\"\r\n                    onClick={this.handleAdd}\r\n                    className=\"float-right\"\r\n                  >\r\n                    Post\r\n                  </Button>\r\n                </Card.Title>\r\n                <br />\r\n                <div>\r\n                  <Form.Control\r\n                    className={\"bg-dark text-white\"}\r\n                    ref={(input) => (this.title = input)}\r\n                    placeholder=\"Title\"\r\n                  />\r\n                  <br />\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    className={\"bg-dark text-white\"}\r\n                    ref={(input) => (this.description = input)}\r\n                    placeholder=\"Description\"\r\n                  />\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        )}\r\n        <br />\r\n        <br />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Posts;\r\n","import React, { Component } from \"react\";\r\nimport { Jumbotron, Button } from \"react-bootstrap\";\r\nimport Posts from \"./Posts\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Welcome extends Component {\r\n  onClick = () => this.props.history.push(\"/login\");\r\n  handleLogout = () => {\r\n    localStorage.clear();\r\n    window.location = \"/\";\r\n    toast.success(\"Logout Successful\");\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <div >\r\n        <Jumbotron className=\"bg-dark text-white\">\r\n          <h2>Welcome to Crime Awareness Portal</h2>\r\n          <p>\r\n            This portal allows a user to get awarness about different crimes happening around the world and also can register complaint through the chatbot.\r\n          </p>\r\n          <div>\r\n            {!user ? (\r\n              <Button variant=\"secondary\" onClick={this.onClick}>\r\n                Login\r\n              </Button>\r\n            ) : (\r\n              <div>\r\n                <p>\r\n                  Logged In as :{\" \"}\r\n                  <span className=\"text-success\">{user.uid}</span>\r\n                </p>\r\n                <p>\r\n                  Email ID : {\" \"}\r\n                  <span className=\"text-success\">{user.email.toLowerCase()}</span>\r\n                </p>\r\n    \r\n                <Button\r\n                  variant=\"danger\"\r\n                  className=\"btn-sm\"\r\n                  onClick={this.handleLogout}\r\n                >\r\n                  Log Out\r\n                </Button>\r\n                &nbsp;&nbsp;&nbsp;\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Jumbotron>\r\n        <Posts user={user} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Card, Button } from \"react-bootstrap\";\r\n\r\nexport default class FormUserDetails extends Component {\r\n  continue = (e) => {\r\n    e.preventDefault();\r\n    this.props.nextStep();\r\n  };\r\n  render() {\r\n    const { values, handleChange, step, errors } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Card className={\"border border-dark bg-dark text-white\"}>\r\n          <Card.Header className={\"text-center\"}>\r\n            <h3>Permission Form</h3>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <Card.Title className=\"text-primary\">\r\n              Step {step} of 3 : General\r\n            </Card.Title>\r\n            <br />\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Form.Group className=\"mu-3 \">\r\n                  <Form.Label>Applicant Name</Form.Label>\r\n                  <Form.Control\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    className={\"bg-dark text-white\"}\r\n                    onChange={handleChange(\"fullname\")}\r\n                    defaultValue={values.fullname}\r\n                  />\r\n\r\n                  <Form.Text className=\"text-muted\">\r\n                    Full Name as printed on id proof\r\n                  </Form.Text>\r\n                  {errors[\"fullname\"] && (\r\n                    <div className=\"text-danger\">\r\n                      <p className=\"text-danger\">{errors[\"fullname\"]}</p>\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Form.Group className=\"mu-3 \">\r\n                  <Form.Label>Applicant Proof Ref.No</Form.Label>\r\n                  <Form.Control\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    className={\"bg-dark text-white\"}\r\n                    onChange={handleChange(\"document_ref\")}\r\n                    defaultValue={values.document_ref}\r\n                    placeholder=\"Enter valid Reference number\"\r\n                  />\r\n                  {errors[\"document_ref\"] && (\r\n                    <div className=\"text-danger\">\r\n                      <p className=\"text-danger\">{errors[\"document_ref\"]}</p>\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </div>\r\n            </div>\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Form.Group className=\"mu-3 \">\r\n                  <Form.Label>Phone Number</Form.Label>\r\n                  <Form.Control\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    className={\"bg-dark text-white\"}\r\n                    onChange={handleChange(\"phone\")}\r\n                    defaultValue={values.phone}\r\n                    placeholder=\"Enter valid Mobile number\"\r\n                  />\r\n                  {errors[\"phone\"] && (\r\n                    <div className=\"text-danger\">\r\n                      <p className=\"text-danger\">{errors[\"phone\"]}</p>\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Form.Group className=\"mu-3 \">\r\n                  <Form.Label>Email ID</Form.Label>\r\n                  <Form.Control\r\n                    type=\"email\"\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    className={\"bg-dark text-white\"}\r\n                    onChange={handleChange(\"email\")}\r\n                    defaultValue={values.email}\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                  </Form.Text>\r\n                  {errors[\"email\"] && (\r\n                    <div className=\"text-danger\">\r\n                      <p className=\"text-danger\">{errors[\"email\"]}</p>\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Selected Proof Type</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={values.document_type}\r\n                  onChange={handleChange(\"document_type\")}\r\n                  className={\"bg-dark text-white\"}\r\n                >\r\n                  <option value=\"Aadhaar Card\">Aadhaar Card</option>\r\n                  <option value=\"Driving License\">Driving License</option>\r\n                  <option value=\"Passport\">Passport</option>\r\n                  <option value=\"Pan card\">Pan card</option>\r\n                  <option value=\"Voter ID\">Voter ID</option>\r\n                </Form.Control>\r\n              </div>\r\n              <div className={\"col-md-2\"}>\r\n                <Form.Label>No.of Travellers</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={values.travellers}\r\n                  onChange={handleChange(\"travellers\")}\r\n                  className={\"bg-dark text-white\"}\r\n                >\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                  <option value=\"6\">6</option>\r\n                </Form.Control>\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Reason for Travel</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={values.reason}\r\n                  onChange={handleChange(\"reason\")}\r\n                  className={\"bg-dark text-white\"}\r\n                >\r\n                  <option value=\"Medical/Emergency\">Medical/Emergency</option>\r\n                  <option value=\"Goods Transport\">Goods Transport</option>\r\n                  <option value=\"Marriage\">Marriage</option>\r\n                  <option value=\"Education Purpose\">Education Purpose</option>\r\n                  <option value=\"Touring\">Touring</option>\r\n                </Form.Control>\r\n              </div>\r\n\r\n              <div className={\"col-md\"}>\r\n                <Form.Label>Select Type of travel</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  defaultValue={values.permission_name}\r\n                  onChange={handleChange(\"permission_name\")}\r\n                  className={\"bg-dark text-white\"}\r\n                >\r\n                  <option value=\"Travel Within State\">\r\n                    Travel Within State\r\n                  </option>\r\n                  <option value=\"Travel Outside State\">\r\n                    Travel Outside State\r\n                  </option>\r\n                  <option value=\"Goods Transport\">Goods Transport</option>\r\n                </Form.Control>\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n          <Card.Footer style={{ textAlign: \"right\" }}>\r\n            <Button variant=\"primary\" onClick={this.continue}>\r\n              Continue\r\n            </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Card, Button } from \"react-bootstrap\";\r\n\r\nexport default class FormTravelDetails extends Component {\r\n  continue = (e) => {\r\n    e.preventDefault();\r\n    this.props.nextStep();\r\n  };\r\n\r\n  back = (e) => {\r\n    e.preventDefault();\r\n    this.props.prevStep();\r\n  };\r\n\r\n  render() {\r\n    const { values, handleChange, step, errors } = this.props;\r\n    return (\r\n      <div>\r\n        <Card className={\"border border-dark bg-dark text-white\"}>\r\n          <Card.Header className={\"text-center\"}>\r\n            <h3>Permission Form</h3>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <Card.Title className=\"text-primary\">\r\n              Step {step} of 3 : Travel Details\r\n            </Card.Title>\r\n            <br />\r\n            <Card.Title className={\"text-muted\"}>\r\n              <Card.Title>Present Address</Card.Title>\r\n            </Card.Title>\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>State</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.src_state}\r\n                  onChange={handleChange(\"src_state\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"src_state\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"src_state\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>District</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.src_district}\r\n                  onChange={handleChange(\"src_district\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"src_district\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"src_district\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Area</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.src_area}\r\n                  onChange={handleChange(\"src_area\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"src_area\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"src_area\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Zip / Pincode</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.src_zip}\r\n                  onChange={handleChange(\"src_zip\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"src_zip\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"src_zip\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <div className=\"row\">\r\n              <div className={\"col-md-8\"}>\r\n                <Form.Label>\r\n                  Landmark to your address with H.No / Flat.No\r\n                </Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.src_landmark}\r\n                  onChange={handleChange(\"src_landmark\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"src_landmark\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"src_landmark\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <Card.Title className={\"text-muted\"}>\r\n              <Card.Title>Destination Address</Card.Title>\r\n            </Card.Title>\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>State</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.dest_state}\r\n                  onChange={handleChange(\"dest_state\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"dest_state\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"dest_state\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>District</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.dest_district}\r\n                  onChange={handleChange(\"dest_district\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"dest_district\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"dest_district\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Area</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.dest_area}\r\n                  onChange={handleChange(\"dest_area\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"dest_area\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"dest_area\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className={\"col-md-3\"}>\r\n                <Form.Label>Zip / Pincode</Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.dest_zip}\r\n                  onChange={handleChange(\"dest_zip\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"dest_zip\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"dest_zip\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <div className=\"row\">\r\n              <div className={\"col-md-8 mb-3\"}>\r\n                <Form.Label>\r\n                  Landmark to your destination address with H.No / Flat.No\r\n                </Form.Label>\r\n                <Form.Control\r\n                  defaultValue={values.dest_landmark}\r\n                  onChange={handleChange(\"dest_landmark\")}\r\n                  className={\"bg-dark text-white\"}\r\n                />\r\n                {errors[\"dest_landmark\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"dest_landmark\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <Form.Label>Description</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows=\"2\"\r\n                  defaultValue={values.description}\r\n                  onChange={handleChange(\"description\")}\r\n                  className={\"bg-dark text-white\"}\r\n                  placeholder=\"How Important this Travel to you ?\"\r\n                />\r\n                {errors[\"description\"] && (\r\n                  <div className=\"text-danger\">\r\n                    <p className=\"text-danger\">{errors[\"description\"]}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n          <Card.Footer style={{ textAlign: \"right\" }}>\r\n            <Button variant=\"warning\" onClick={this.back}>\r\n              Go Back\r\n            </Button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"primary\" onClick={this.continue}>\r\n              Continue\r\n            </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\n\r\nexport default class Confirm extends Component {\r\n  continue = (e) => {\r\n    e.preventDefault();\r\n    this.props.nextStep();\r\n  };\r\n\r\n  back = (e) => {\r\n    e.preventDefault();\r\n    this.props.prevStep();\r\n  };\r\n  render() {\r\n    const {\r\n      values: {\r\n        document_type,\r\n        document_ref,\r\n        fullname,\r\n        phone,\r\n        email,\r\n        reason,\r\n        travellers,\r\n        src_state,\r\n        dest_state,\r\n        src_district,\r\n        dest_district,\r\n        src_zip,\r\n        dest_zip,\r\n        src_area,\r\n        dest_area,\r\n        src_landmark,\r\n        dest_landmark,\r\n      },\r\n      step,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <Card className={\"border border-dark bg-dark text-white\"}>\r\n          <Card.Header className={\"text-center\"}>\r\n            <h3>Permission Form</h3>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <Card.Title className=\"text-primary\">\r\n              Step {step} of 3 : Confirm Your Details\r\n            </Card.Title>\r\n            <br></br>\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Applicant Full Name:</Card.Title>\r\n                <Card.Text>{fullname}</Card.Text>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Applicant Proof Document.No:</Card.Title>\r\n                <Card.Text>{document_ref}</Card.Text>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Mobile.No:</Card.Title>\r\n                <Card.Text>{phone}</Card.Text>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Email ID:</Card.Title>\r\n                <Card.Text>{email}</Card.Text>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Selected Proof Type:</Card.Title>\r\n                <Card.Text>{document_type}</Card.Text>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>No.of Travellers:</Card.Title>\r\n                <Card.Text>{travellers}</Card.Text>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Reason:</Card.Title>\r\n                <Card.Text>{reason}</Card.Text>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Category of Travel:</Card.Title>\r\n                <Card.Text>{reason}</Card.Text>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className={\"row\"}>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Source Address:</Card.Title>\r\n                <Card.Text>\r\n                  {src_landmark}, {src_area}, {src_district}, {src_state},{\" \"}\r\n                  {src_zip}.\r\n                </Card.Text>\r\n              </div>\r\n              <div className={\"col-md-6\"}>\r\n                <Card.Title>Destination Address:</Card.Title>\r\n                <Card.Text>\r\n                  {dest_landmark}, {dest_area}, {dest_district}, {dest_state}{\" \"}\r\n                  {dest_zip}.\r\n                </Card.Text>\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n          <Card.Footer style={{ textAlign: \"right\" }}>\r\n            <Button variant=\"warning\" onClick={this.back}>\r\n              Go Back\r\n            </Button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"success\" onClick={this.props.handleSubmit}>\r\n              Apply\r\n            </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport FormUserDetails from \"./FormUserDetails\";\r\nimport FormTravelDetails from \"./FormTravelDetails\";\r\nimport Confirm from \"./Confirm\";\r\nimport Joi from \"joi-browser\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport class Permission extends Component {\r\n  state = {\r\n    step: 1,\r\n    document_type: \"Passport\",\r\n    document_ref: \"\",\r\n    fullname: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    reason: \"Touring\",\r\n    permission_name: \"Travel Within State\",\r\n    travellers: \"1\",\r\n    src_state: \"\",\r\n    dest_state: \"\",\r\n    src_district: \"\",\r\n    dest_district: \"\",\r\n    src_zip: \"\",\r\n    dest_zip: \"\",\r\n    src_landmark: \"\",\r\n    dest_landmark: \"\",\r\n    src_area: \"\",\r\n    dest_area: \"\",\r\n    description: \"\",\r\n    errors: {},\r\n  };\r\n\r\n  // Proceed to next step\r\n  nextStep = () => {\r\n    const { step } = this.state;\r\n    let errors = null;\r\n    if (step === 1) {\r\n      errors = this.validatePartOne();\r\n    } else {\r\n      errors = this.validatePartTwo();\r\n    }\r\n    if (errors === null) {\r\n      this.setState({\r\n        step: step + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Proceed to previous step\r\n  prevStep = () => {\r\n    const { step } = this.state;\r\n    this.setState({\r\n      step: step - 1,\r\n    });\r\n  };\r\n\r\n  schema = {\r\n    document_ref: Joi.string().required().min(6).label(\"Proof Ref\"),\r\n    fullname: Joi.string().required().label(\"Full Name\"),\r\n    document_type: Joi.string().required().label(\"Document Type\"),\r\n    reason: Joi.string().required().label(\"Reason\"),\r\n    travellers: Joi.string().required().label(\"Travellers\"),\r\n    permission_name: Joi.string().required().label(\"Permission Type\"),\r\n    phone: Joi.string().required().min(10).max(10).label(\"Phone\"),\r\n    email: Joi.string().required().email().label(\"Email\"),\r\n    src_state: Joi.string().required().label(\"State\"),\r\n    dest_state: Joi.string().required().label(\"Destination State\"),\r\n    src_district: Joi.string().required().label(\"District\"),\r\n    dest_district: Joi.string().required().label(\"Destination District\"),\r\n    src_zip: Joi.string().required().label(\"Pincode\"),\r\n    src_area: Joi.string().required().label(\"Area / Localty\"),\r\n    src_landmark: Joi.string().required().label(\"Landmark\"),\r\n    description: Joi.string().required().label(\"Description\"),\r\n    dest_zip: Joi.string().required().label(\"Pincode\"),\r\n    dest_area: Joi.string().required().label(\"Area / Localty\"),\r\n    dest_landmark: Joi.string().required().label(\"Landmark\"),\r\n  };\r\n\r\n  validateProperty = (name, value) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  // Handle fields change\r\n  handleChange = (input) => (e) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateProperty(input, e.target.value);\r\n    if (errorMessage) errors[input] = errorMessage;\r\n    else delete errors[input];\r\n\r\n    this.setState({ [input]: e.target.value, errors });\r\n  };\r\n\r\n  validatePartOne = () => {\r\n    const options = { abortEarly: false };\r\n    const data = {\r\n      fullname: this.state.fullname,\r\n      document_ref: this.state.document_ref,\r\n      phone: this.state.phone,\r\n      email: this.state.email,\r\n    };\r\n    const schemaOne = {\r\n      fullname: this.schema.fullname,\r\n      document_ref: this.schema.document_ref,\r\n      phone: this.schema.phone,\r\n      email: this.schema.email,\r\n    };\r\n    const { error } = Joi.validate(data, schemaOne, options);\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    this.setState({ errors });\r\n    return 1;\r\n  };\r\n\r\n  validatePartTwo = () => {\r\n    const options = { abortEarly: false };\r\n    const data = {\r\n      src_state: this.state.src_state,\r\n      dest_state: this.state.dest_state,\r\n      src_district: this.state.src_district,\r\n      dest_district: this.state.dest_district,\r\n      src_zip: this.state.src_zip,\r\n      src_area: this.state.src_area,\r\n      src_landmark: this.state.src_landmark,\r\n      description: this.state.description,\r\n      dest_zip: this.state.dest_zip,\r\n      dest_area: this.state.dest_area,\r\n      dest_landmark: this.state.dest_landmark,\r\n    };\r\n    const schemaTwo = {\r\n      src_state: this.schema.src_state,\r\n      dest_state: this.schema.dest_state,\r\n      src_district: this.schema.src_district,\r\n      dest_district: this.schema.dest_district,\r\n      src_zip: this.schema.src_zip,\r\n      src_area: this.schema.src_area,\r\n      src_landmark: this.schema.src_landmark,\r\n      description: this.schema.description,\r\n      dest_zip: this.schema.dest_zip,\r\n      dest_area: this.schema.dest_area,\r\n      dest_landmark: this.schema.dest_landmark,\r\n    };\r\n    const { error } = Joi.validate(data, schemaTwo, options);\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    this.setState({ errors });\r\n    return 1;\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    var data = { ...this.state };\r\n    delete data.errors;\r\n    delete data.step;\r\n    data[\"src_address\"] =\r\n      data.src_landmark +\r\n      \" \" +\r\n      data.src_area +\r\n      \" \" +\r\n      data.src_district +\r\n      \" \" +\r\n      data.src_state +\r\n      \" \" +\r\n      data.src_zip;\r\n    data[\"dest_address\"] =\r\n      data.dest_landmark +\r\n      \" \" +\r\n      data.dest_area +\r\n      \" \" +\r\n      data.dest_district +\r\n      \" \" +\r\n      data.dest_state +\r\n      \" \" +\r\n      data.dest_zip;\r\n\r\n    delete data.src_landmark;\r\n    delete data.src_area;\r\n    delete data.src_district;\r\n    delete data.src_state;\r\n    delete data.src_zip;\r\n    delete data.dest_landmark;\r\n    delete data.dest_area;\r\n    delete data.dest_district;\r\n    delete data.dest_state;\r\n    delete data.dest_zip;\r\n    var config = {\r\n      method: \"post\",\r\n      url: \"http://localhost:8080/form/submit/\",\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          this.props.history.replace(\"/\");\r\n          toast.success(\r\n            \"Successfully Submitted. Check status to download E-pass\"\r\n          );\r\n        } else {\r\n          toast.error(\"An unexpected error Occurred\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Please Check your Internet Connection\");\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { step } = this.state;\r\n    const {\r\n      document_type,\r\n      document_ref,\r\n      fullname,\r\n      phone,\r\n      email,\r\n      reason,\r\n      travellers,\r\n      src_area,\r\n      dest_area,\r\n      permission_name,\r\n      src_state,\r\n      dest_state,\r\n      description,\r\n      src_district,\r\n      dest_district,\r\n      src_zip,\r\n      dest_zip,\r\n      src_landmark,\r\n      dest_landmark,\r\n    } = this.state;\r\n    const values = {\r\n      document_type,\r\n      document_ref,\r\n      fullname,\r\n      phone,\r\n      email,\r\n      permission_name,\r\n      reason,\r\n      travellers,\r\n      description,\r\n      src_state,\r\n      dest_state,\r\n      src_district,\r\n      dest_district,\r\n      src_zip,\r\n      dest_zip,\r\n      src_landmark,\r\n      dest_landmark,\r\n      src_area,\r\n      dest_area,\r\n    };\r\n    switch (step) {\r\n      case 1:\r\n        return (\r\n          <FormUserDetails\r\n            step={this.state.step}\r\n            nextStep={this.nextStep}\r\n            handleChange={this.handleChange}\r\n            values={values}\r\n            errors={this.state.errors}\r\n            validate={this.validateOne}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <FormTravelDetails\r\n            step={this.state.step}\r\n            nextStep={this.nextStep}\r\n            prevStep={this.prevStep}\r\n            handleChange={this.handleChange}\r\n            values={values}\r\n            errors={this.state.errors}\r\n            validate={this.validateTwo}\r\n          />\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <Confirm\r\n            step={this.state.step}\r\n            nextStep={this.nextStep}\r\n            prevStep={this.prevStep}\r\n            values={values}\r\n            handleSubmit={this.handleSubmit}\r\n          />\r\n        );\r\n\r\n      default:\r\n        console.log(\"This is a multi-step form built with React.\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default Permission;\r\n","import React, { Component } from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt, faUndo } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport backend from \"../config\";\r\n\r\nclass Login extends Component {\r\n  initialValues = {\r\n    uid: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onSubmit = (values, onSubmitProps) => {\r\n    const vals = {\r\n      uid: values.uid,\r\n      password: values.password,\r\n    };\r\n    //console.log(onSubmitProps)\r\n\r\n    axios\r\n      .post(backend + \"/police/login/\", vals)\r\n      .then((response) => {\r\n        if (response.data != null) {\r\n          \r\n          localStorage.setItem(\"uid\", response.data.uid);\r\n          localStorage.setItem(\"email\", response.data.email);\r\n         \r\n          onSubmitProps.setSubmitting(false);\r\n          onSubmitProps.resetForm();\r\n          window.location = \"/\";\r\n          toast.success(\"Login Successful\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        toast.error(\"Invalid Credentials\");\r\n        onSubmitProps.setSubmitting(false);\r\n        onSubmitProps.resetForm();\r\n      });\r\n  };\r\n\r\n  validationSchema = Yup.object({\r\n    uid: Yup.string().required(\"UID is Required\"),\r\n    password: Yup.string().required(\"No Password provided.\"),\r\n  });\r\n\r\n  render() {\r\n    return (\r\n      <Card\r\n        style={{  }}\r\n        className={\"border border-dark bg-dark text-white mx-auto\"}\r\n        style={{ width: \"58%\", background: \"#272b30\"}}\r\n      >\r\n        <Card.Header className={\"text-center\"}>\r\n          <h3>Login To Admin Console</h3>\r\n        </Card.Header>\r\n        <Formik\r\n          initialValues={this.initialValues}\r\n          validationSchema={this.validationSchema}\r\n          onSubmit={this.onSubmit}\r\n        >\r\n          {(formik) => {\r\n            //console.log(\"Formik props\", formik);\r\n            return (\r\n              <Form>\r\n                <Card.Body>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <label htmlFor=\"uid\">UID</label>\r\n                      <Field\r\n                        type=\"text\"\r\n                        id=\"uid\"\r\n                        name=\"uid\"\r\n                        className={\"bg-dark text-white form-control\"}\r\n                      />\r\n                      <div className=\"error\">\r\n                        <ErrorMessage name=\"uid\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <br></br>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <label htmlFor=\"password\">Password</label>\r\n                      <Field\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        autoComplete=\"on\"\r\n                        className={\"bg-dark text-white form-control\"}\r\n                      />\r\n                      <div className=\"error\">\r\n                        <ErrorMessage name=\"password\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                  <Button\r\n                    variant=\"success\"\r\n                    type=\"submit\"\r\n                    disabled={!formik.isValid || formik.isSubmitting}\r\n                  >\r\n                    Login&nbsp;\r\n                    <FontAwesomeIcon icon={faSignInAlt} />\r\n                  </Button>\r\n                  &nbsp;&nbsp;&nbsp;\r\n                  <Button variant=\"danger\" type=\"reset\">\r\n                    Reset&nbsp;\r\n                    <FontAwesomeIcon icon={faUndo} />\r\n                  </Button>\r\n                </Card.Footer>\r\n              </Form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { ListGroup } from \"react-bootstrap\";\r\n\r\nconst MyListGroup = ({ types, selectedType, onTypeSelect }) => {\r\n  return (\r\n    <ListGroup className={\"border border-dark bg-dark\"}>\r\n      {types.map((type) => (\r\n        <ListGroup.Item\r\n          onClick={() => onTypeSelect(type)}\r\n          key={type._id}\r\n          className={type === selectedType ? \"active\" : \"bg-dark text-white\"}\r\n        >\r\n          {type.name}\r\n        </ListGroup.Item>\r\n      ))}\r\n    </ListGroup>\r\n  );\r\n};\r\n\r\nexport default MyListGroup;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nconst MyPagination = ({ totalCount, pageSize, currentPage, onPageChange }) => {\r\n  const pagesCount = Math.ceil(totalCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n\r\n  return (\r\n    <Pagination size=\"sm\">\r\n      {pages.map((page) => (\r\n        <Pagination.Item\r\n          onClick={() => onPageChange(page)}\r\n          key={page}\r\n          className={page === currentPage ? \"active\" : \"bg-dark text-white\"}\r\n        >\r\n          {page}\r\n        </Pagination.Item>\r\n      ))}\r\n    </Pagination>\r\n  );\r\n};\r\n\r\nexport default MyPagination;\r\n","export const types = [\r\n  { _id: \"1\", name: \"Cognizable\" },\r\n  { _id: \"2\", name: \"Non Cognizable\" },\r\n  { _id: \"3\", name: \"Missing Report\" },\r\n  { _id: \"4\", name: \"Theft Report\" },\r\n];\r\n\r\nexport function getTypes() {\r\n  return types.filter((e) => e);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSortUp, faSortDown } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n// columns: array\r\n// sortColumn: object\r\n// onSort: function\r\n\r\nclass TableHeader extends Component {\r\n  raiseSort = (path) => {\r\n    const sortColumn = { ...this.props.sortColumn };\r\n    if (sortColumn.path === path)\r\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\r\n    else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = \"asc\";\r\n    }\r\n    this.props.onSort(sortColumn);\r\n  };\r\n\r\n  renderSortIcon = (column) => {\r\n    const { sortColumn } = this.props;\r\n\r\n    if (column.path !== sortColumn.path) return null;\r\n    if (sortColumn.order === \"asc\")\r\n      return <FontAwesomeIcon icon={faSortDown} />;\r\n    return <FontAwesomeIcon icon={faSortUp} />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.props.columns.map((column) => (\r\n            <th\r\n              className=\"clickable\"\r\n              key={column.path || column.key}\r\n              onClick={() => this.raiseSort(column.path)}\r\n            >\r\n              {column.label} {this.renderSortIcon(column)}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHeader;\r\n","import React, { Component } from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nclass TableBody extends Component {\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n    if (column.path === \"date_created\") {\r\n      let date = _.get(item, column.path);\r\n      date = new Date(date * 1000).toString();\r\n      let idx = date.indexOf(\"GMT\");\r\n      return date.substring(0, idx);\r\n    }\r\n    return _.get(item, column.path);\r\n  };\r\n\r\n  createKey = (item, column) => {\r\n    return item.date_created + (column.path || column.key);\r\n  };\r\n\r\n  render() {\r\n    const { data, columns } = this.props;\r\n\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item.uid}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(item, column)}>\r\n                {this.renderCell(item, column)}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;\r\n","import React from \"react\";\r\nimport TableHeader from \"./TableHeader\";\r\nimport TableBody from \"./TableBody\";\r\n\r\nconst Table = ({ columns, sortColumn, onSort, data }) => {\r\n  return (\r\n    <div className=\"table-responsive-md\">\r\n      <table\r\n        className={\r\n          \"table table-dark  text-white table-striped table-borderless\"\r\n        }\r\n      >\r\n        <TableHeader\r\n          columns={columns}\r\n          sortColumn={sortColumn}\r\n          onSort={onSort}\r\n        />\r\n        <TableBody columns={columns} data={data} />\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { Component } from \"react\";\r\nimport MyTable from \"./common/MyTable\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheckCircle, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass PermissionsTable extends Component {\r\n  columns = [\r\n    {\r\n      path: \"uid\",\r\n      label: \"Aadhaar No.\",\r\n      content: (permission) => (\r\n        <Link\r\n          to={{\r\n            pathname: `/dashboard/${permission.id}`,\r\n            state: { permission },\r\n          }}\r\n          permission={permission}\r\n        >\r\n          {permission.uid}\r\n        </Link>\r\n      ),\r\n    },\r\n    { path: \"name\", label: \"Name\" },\r\n    { path: \"mobile\", label: \"Mobile\" },\r\n    \r\n    // { path: \"email\", label: \"Email\" },\r\n    { path: \"status\", label: \"Status\" },\r\n    { path: \"district\", label: \"District\" },\r\n    { path: \"place\", label: \"Incident Place\" },\r\n    {\r\n      key: \"Delete\",\r\n      content: (permission) => (\r\n        <div>\r\n          <FontAwesomeIcon\r\n            style={{ cursor: \"pointer\" }}\r\n            className=\"text-danger\"\r\n            icon={faTrash}\r\n            title=\"trash\"\r\n            onClick={() => this.props.onDelete(permission)}\r\n          ></FontAwesomeIcon>\r\n          <br />\r\n          <br />\r\n          {permission.status === \"accepted\" ? (\r\n            <span className=\"text-success text-center\" title=\"accepted\">\r\n              <FontAwesomeIcon icon={faCheckCircle}></FontAwesomeIcon>\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  render() {\r\n    const { permissions, onSort, sortColumn } = this.props;\r\n\r\n    return (\r\n      <MyTable\r\n        columns={this.columns}\r\n        data={permissions}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default PermissionsTable;\r\n","import React from \"react\";\r\n\r\nconst SearchBox = ({ value, onChange }) => {\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      name=\"query\"\r\n      className=\"form-control my-3\"\r\n      placeholder=\"Search by UID starting with...\"\r\n      value={value}\r\n      onChange={(e) => onChange(e.currentTarget.value)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { Component } from \"react\";\r\nimport MyListGroup from \"./common/ListGroup\";\r\nimport MyPagination from \"./common/Pagination\";\r\nimport { getTypes } from \"../services/TypeService\";\r\nimport PermissionsTable from \"./PermissionsTable\";\r\nimport { paginate } from \"../services/PaginateService\";\r\nimport _ from \"lodash\";\r\nimport axios from \"axios\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport { toast } from \"react-toastify\";\r\nimport backend from \"../config\";\r\n\r\nexport default class Dashboard extends Component {\r\n  state = {\r\n    permissions: [],\r\n    types: [],\r\n    currentPage: 1,\r\n    pageSize: 3,\r\n    searchQuery: \"\",\r\n    sortColumn: { path: \"date_created\", order: \"desc\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem(\"uid\") != null) {\r\n      var data = \"\";\r\n\r\n      var config = {\r\n        method: \"get\",\r\n        url: backend + \"/police/get-compliants/\",\r\n        data: data,\r\n      };\r\n\r\n      axios(config)\r\n        .then((response) => {\r\n          if (response.data != null) {\r\n            const types = [{ _id: \"\", name: \"All Compliants\" }, ...getTypes()];\r\n            this.setState({ permissions: response.data, types });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          toast.error(\"Something went wrong !!\");\r\n        });\r\n    } else {\r\n      const types = [{ _id: \"\", name: \"All Compliants\" }, ...getTypes()];\r\n      this.setState({ permissions: [], types });\r\n    }\r\n  }\r\n\r\n  handleTypeSelect = (type) => {\r\n    this.setState({ selectedType: type, searchQuery: \"\", currentPage: 1 });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleDelete = (permission) => {\r\n    const permissions = this.state.permissions.filter(\r\n      (p) => p.date_created !== permission.date_created\r\n    );\r\n    this.setState({ permissions });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  handleSearch = (query) => {\r\n    this.setState({ searchQuery: query, selectedType: null, currentPage: 1 });\r\n  };\r\n\r\n  getPagedData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      sortColumn,\r\n      selectedType,\r\n      searchQuery,\r\n      permissions: allPermissions,\r\n    } = this.state;\r\n\r\n    let filtered = allPermissions;\r\n    if (searchQuery)\r\n      filtered = allPermissions.filter((p) =>\r\n        p.uid.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n    else if (selectedType && selectedType._id)\r\n      filtered = allPermissions.filter((p) => p.category === selectedType.name);\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const permissions = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: permissions };\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.permissions;\r\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\r\n\r\n    const { totalCount, data: permissions } = this.getPagedData();\r\n\r\n    if (count === 0)\r\n      return (\r\n        <p className=\"text-secondary\">Loading Permissions from database...</p>\r\n      );\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md\">\r\n          <MyListGroup\r\n            types={this.state.types}\r\n            selectedType={this.state.selectedType}\r\n            onTypeSelect={this.handleTypeSelect}\r\n          />\r\n        </div>\r\n        <div className={\"col-md-9\"}>\r\n          <p className={\"text-white\"}>\r\n            Showing all {totalCount} Permissions in the Database.\r\n          </p>\r\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\r\n          <PermissionsTable\r\n            permissions={permissions}\r\n            sortColumn={sortColumn}\r\n            onDelete={this.handleDelete}\r\n            onSort={this.handleSort}\r\n          />\r\n          <MyPagination\r\n            totalCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n          <br></br>\r\n          <br></br>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(allPermissions, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(allPermissions).slice(startIndex).take(pageSize).value();\r\n}\r\n","import React from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport backend from \"../config\";\r\n\r\nconst Details = (props) => {\r\n  const markSafeOrUnsafe = (id, val) => {\r\n    var data = props.location.state;\r\n    data.permission.status = val;\r\n    var config = {\r\n      method: \"post\",\r\n      url: backend + \"/police/compliant/\" + id + \"/\",\r\n      data: data.permission,\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        if (response.data != null) {\r\n          toast.success(\"Status Updated for this Compliant\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        toast.error(\"An unexpected error Occured\");\r\n      });\r\n  };\r\n\r\n  const { permission } = props.location.state ? props.location.state : null;\r\n  if (!permission) return null;\r\n  return (\r\n    <div>\r\n      <Card className={\"border border-dark bg-dark text-white\"}>\r\n        <Card.Header>\r\n          <h3 className=\"text-primary\">Details for {permission.name}</h3>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <div className={\"row\"}>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Applicant Full Name:</Card.Title>\r\n              <Card.Text>{permission.name}</Card.Text>\r\n            </div>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Applicant Aadhaar.No:</Card.Title>\r\n              <Card.Text>{permission.uid}</Card.Text>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className={\"row\"}>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Mobile.No:</Card.Title>\r\n              <Card.Text>{permission.mobile}</Card.Text>\r\n            </div>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Email ID:</Card.Title>\r\n              <Card.Text>{permission.email}</Card.Text>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className={\"row\"}>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>District:</Card.Title>\r\n              <Card.Text>{permission.district}</Card.Text>\r\n            </div>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Place Of Incident:</Card.Title>\r\n              <Card.Text>{permission.place}</Card.Text>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className={\"row\"}>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Date Created:</Card.Title>\r\n              <Card.Text>{permission.date_created}</Card.Text>\r\n            </div>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Status Of Compliant:</Card.Title>\r\n              <Card.Text>{permission.status}</Card.Text>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className={\"row\"}>\r\n            <div className={\"col-md-6\"}>\r\n              <Card.Title>Description:</Card.Title>\r\n              <Card.Text>{permission.description}</Card.Text>\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer style={{ textAlign: \"right\" }}>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() =>\r\n              markSafeOrUnsafe(permission.id, \"Ignored\")\r\n            }\r\n          >\r\n            Ignore\r\n          </Button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n          <Button\r\n            onClick={() =>\r\n              markSafeOrUnsafe(permission.id, \"In Touch\")\r\n            }\r\n          >\r\n            Get In Touch\r\n          </Button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n          <Button\r\n            variant=\"success\"\r\n            onClick={() =>\r\n              markSafeOrUnsafe(permission.id, \"Clear\")\r\n            }\r\n          >\r\n            Solved\r\n          </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n      <br></br>\r\n      <br></br>\r\n      <br></br>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Card, Button, Form } from \"react-bootstrap\";\r\nimport backend from \"../config\";\r\n\r\nexport default class Status extends Component {\r\n  state = {\r\n    permission: [],\r\n  };\r\n  permission_id = React.createRef();\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const vals = {};\r\n\r\n    var config = {\r\n      method: \"get\",\r\n      url:\r\n        backend + \"/police/get-status/\" + this.permission_id.value,\r\n      data: vals,\r\n    };\r\n\r\n    axios(config)\r\n      .then((response) => {\r\n        if (response.data != null) {\r\n          this.setState({ permission: response.data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast(\"Sorry, Couldn't find your Compliant\");\r\n        this.setState({ permission: [] });\r\n      });\r\n  };\r\n  render() {\r\n    const { permission } = this.state;\r\n\r\n    return (\r\n      <div className=\"col\">\r\n        <Form onSubmit={(e) => this.handleSubmit(e)}>\r\n          <input\r\n            type=\"text\"\r\n            autoFocus\r\n            className=\"form-control my-3\"\r\n            placeholder=\"Enter provided permission id..\"\r\n            defaultValue=\"\"\r\n            ref={(input) => (this.permission_id = input)}\r\n          />\r\n        </Form>\r\n        <br />\r\n        {permission.length === 0 ? (\r\n          <div>\r\n            <p className=\"text-danger\">Please provide Valid Compliant Id</p>\r\n            <p className=\"text-primary\">\r\n              Compliant id is: Aadhaar@Mobile\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n              <Card.Header>\r\n                <h3 className=\"text-primary\">\r\n                  Details for {permission.name}\r\n                </h3>\r\n                <div>\r\n                  <strong>\r\n                    {permission.status === \"Clear\" ? (\r\n                      <div>\r\n                        <p className=\"text-success\">\r\n                          Your Compliant was solved\r\n                        </p>\r\n                      </div>\r\n                    ) : permission.status === \"Ignored\" ? (\r\n                      <p className=\"text-danger\">\r\n                        Your Compliant was rejected due to Incorrect / Insufficient details\r\n                      </p>\r\n                    ) : permission.status === \"In Touch\" ? (\r\n                      <p className=\"text-info\">\r\n                        Your Compliant has been seen and assigned to an Officer. Please check your mail for Officer details.\r\n                      </p>\r\n                    ) : (\r\n                      <p className=\"text-info\">\r\n                        Your Compliant is still under validation, Once validated we will get back yo you.\r\n                      </p>\r\n                    )}\r\n                  </strong>\r\n                </div>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <div className={\"row\"}>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Applicant Full Name:</Card.Title>\r\n                    <Card.Text>{permission.name}</Card.Text>\r\n                  </div>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Applicant Aadhaar.No:</Card.Title>\r\n                    <Card.Text>{permission.uid}</Card.Text>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className={\"row\"}>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Mobile.No:</Card.Title>\r\n                    <Card.Text>{permission.mobile}</Card.Text>\r\n                  </div>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Email ID:</Card.Title>\r\n                    <Card.Text>{permission.email}</Card.Text>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className={\"row\"}>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>District:</Card.Title>\r\n                    <Card.Text>{permission.district}</Card.Text>\r\n                  </div>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Place Of Incident:</Card.Title>\r\n                    <Card.Text>{permission.place}</Card.Text>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className={\"row\"}>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Date Created:</Card.Title>\r\n                    <Card.Text>{permission.date_created}</Card.Text>\r\n                  </div>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Status Of Compliant:</Card.Title>\r\n                    <Card.Text>{permission.status}</Card.Text>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div className={\"row\"}>\r\n                  <div className={\"col-md-6\"}>\r\n                    <Card.Title>Description:</Card.Title>\r\n                    <Card.Text>{permission.description}</Card.Text>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n              <Card.Footer style={{ textAlign: \"right\" }}>\r\n                <Button variant=\"primary\" onClick={() => window.print()}>\r\n                  Print\r\n                </Button>\r\n              </Card.Footer>\r\n            </Card>\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\n\r\n// Function that returns name of the place from latitude and longitude works only if the lat,long are exact and have more decimal places\r\n\r\nasync function reverseGeocoding(latitude, longitude) {\r\n    let response = await fetch(\"https://api.mapbox.com/geocoding/v5/mapbox.places/\" + longitude + ',' + latitude + \".json?access_token=Your MapBox TOken\");\r\n    let data = await response.json()\r\n    return data;\r\n}\r\n\r\n// Pulsing dot animation for live alerts\r\nasync function createDot(map) {\r\n    var size = 200;\r\n\r\n    let newDot = 'pulsingDot' + Math.random();\r\n    newDot = {\r\n        width: size,\r\n        height: size,\r\n        data: new Uint8Array(size * size * 4),\r\n\r\n        // get rendering context for the map canvas when layer is added to the map\r\n        onAdd: function () {\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = this.width;\r\n            canvas.height = this.height;\r\n            this.context = canvas.getContext('2d');\r\n        },\r\n\r\n        // called once before every frame where the icon will be used\r\n        render: function () {\r\n            var duration = 1000;\r\n            var t = (performance.now() % duration) / duration;\r\n\r\n            var radius = (size / 2) * 0.3;\r\n            var outerRadius = (size / 2) * 0.7 * t + radius;\r\n            var context = this.context;\r\n\r\n            // draw outer circle\r\n            context.clearRect(0, 0, this.width, this.height);\r\n            context.beginPath();\r\n            context.arc(\r\n                this.width / 2,\r\n                this.height / 2,\r\n                outerRadius,\r\n                0,\r\n                Math.PI * 2\r\n            );\r\n            context.fillStyle = 'rgba(255, 200, 200,' + (1 - t) + ')';\r\n            context.fill();\r\n\r\n            // draw inner circle\r\n            context.beginPath();\r\n            context.arc(\r\n                this.width / 2,\r\n                this.height / 2,\r\n                radius,\r\n                0,\r\n                Math.PI * 2\r\n            );\r\n            context.fillStyle = 'rgba(255, 100, 100, 1)';\r\n            context.strokeStyle = 'white';\r\n            context.lineWidth = 2 + 4 * (1 - t);\r\n            context.fill();\r\n            context.stroke();\r\n\r\n            // update this image's data with data from the canvas\r\n            this.data = context.getImageData(\r\n                0,\r\n                0,\r\n                this.width,\r\n                this.height\r\n            ).data;\r\n\r\n            // continuously repaint the map, resulting in the smooth animation of the dot\r\n            map.triggerRepaint();\r\n\r\n            // return `true` to let the map know that the image was updated\r\n            return true;\r\n        }\r\n    };\r\n    return newDot;\r\n}\r\n\r\n\r\n// Function that renders alert on sidebar from firebase\r\nexport async function renderAlert(alert, map) {\r\n    \r\n    var pulsingDot = await createDot(map);\r\n    // Display ale  rts on map after click\r\n    \r\n    // document.getElementById(alert.name + alert.mobile).addEventListener('click', async function () {\r\n\r\n    map.on('load', async function() {\r\n\r\n        var location = []\r\n        var latitude = alert.lat;\r\n        var longitude = alert.lon;\r\n        location.push(longitude);\r\n        location.push(latitude);\r\n        var reverseLatLong = await reverseGeocoding(latitude, longitude);\r\n\r\n        // Message alerts on map\r\n        var mapAlert = '<strong>Full Name: </strong>' + alert.name + '<br><strong>Mobile: </strong>' + alert.mobile + '<br><strong>Time: </strong>' + new Date(alert.date_created) + '<br><strong>Place Name: </strong>' + reverseLatLong.features[0].place_name.split(',') + '<br><strong>Description: </strong>' + alert.description;\r\n\r\n                // API to set alert marker\r\n                var popup = new mapboxgl.Popup({ \r\n                    closeButton: true,\r\n                    closeOnClick: true \r\n                });\r\n                // .setLngLat(location)\r\n                // .setHTML(mapAlert);\r\n                // .addTo(map);\r\n                // API to go to that location\r\n\r\n                let dynamicImage = 'img' + Date.now();\r\n\r\n                map.addImage(dynamicImage, pulsingDot, { pixelRatio: 2 });\r\n\r\n                map.addSource(dynamicImage, {\r\n                    'type': 'geojson',\r\n                    'data': {\r\n                        'type': 'FeatureCollection',\r\n                        'features': [\r\n                            {\r\n                                'type': 'Feature',\r\n                                'geometry': {\r\n                                     'type': 'Point',\r\n                                    'coordinates': location\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                });\r\n                map.addLayer({\r\n                    'id': dynamicImage,\r\n                    'type': 'symbol',\r\n                    'source': dynamicImage,\r\n                    'layout': {\r\n                        'icon-image': dynamicImage\r\n                    }\r\n                });\r\n\r\n\r\n                // hover popup\r\n                map.on('mouseenter', dynamicImage, function (e) {\r\n                    // Change the cursor style as a UI indicator.\r\n                    map.getCanvas().style.cursor = 'pointer';\r\n                     \r\n                    var coordinates = e.features[0].geometry.coordinates.slice();\r\n                    \r\n                    // Ensure that if the map is zoomed out such that multiple\r\n                    // copies of the feature are visible, the popup appears\r\n                    // over the copy being pointed to.\r\n                    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n                    }\r\n                     \r\n                    // Populate the popup and set its coordinates\r\n                    // based on the feature found.\r\n                    popup.setLngLat(location).setHTML(mapAlert).addTo(map);\r\n                    });\r\n                     \r\n                    map.on('mouseleave', dynamicImage, function () {\r\n                        map.getCanvas().style.cursor = '';\r\n                        \r\n                    });\r\n              \r\n                \r\n        });\r\n}\r\n","import mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport backend from \"../config\";\r\n\r\nasync function forwardGeocoding(place) {\r\n    let response = await fetch(\"https://api.mapbox.com/geocoding/v5/mapbox.places/\" + place + \".json?access_token=Your MapBox Token\")\r\n    let data = await response.json();\r\n\r\n    return data['features'][0].center;\r\n\r\n}\r\n\r\nexport async function helper(map) {\r\n    let response = await fetch(backend + \"/police/get-zones/\");\r\n    \r\n    let data = await response.json()\r\n    data.forEach(async u => {\r\n        //fetch name from coordinates of alloted beats\r\n        let allocate = [u.lon, u.lat];\r\n        // create the popup\r\n        var popup = new mapboxgl.Popup({ offset: 25 })\r\n            .setHTML('<strong>Station Head: </strong> :' + u.head + '<br><strong>Mobile: </strong>' + u.mobile + '<br><strong>Zone Name: </strong>' + u.zone_name)\r\n            ;\r\n\r\n        // create DOM element for the marker\r\n        var el = document.createElement('div');\r\n        el.id = 'marker';\r\n        \r\n        // create the marker\r\n        new mapboxgl.Marker({ color: 'green', rotation: 45 })\r\n            .setLngLat(allocate)\r\n            .setPopup(popup) // sets a popup on this marker\r\n            .addTo(map);\r\n    });\r\n    \r\n    return data;\r\n}\r\n\r\nexport function getZones(map) {\r\n    var zones = helper(map);\r\n    return zones;\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport { ListGroup, Row, Col, Card, Badge, Button, Form } from \"react-bootstrap\";\r\n//mapbox directions\r\nimport MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions'\r\nimport '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css'\r\nimport axios from \"axios\";\r\nimport { loadClusters } from \"../services/CrimeClusterService\";\r\nimport { renderAlert } from \"../services/AlertService\";\r\nimport { getZones } from \"../services/PoliceService\";\r\nimport backend from \"../config\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMapMarkerAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst token = 'Your MapBox Token';\r\nmapboxgl.accessToken = token;\r\n\r\n\r\nexport default class LiveMap extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lng: 77.5757,\r\n            lat: 12.9991,\r\n            zoom: 13,\r\n            alerts: [],\r\n            zones: []\r\n        };\r\n        this.mapContainer = React.createRef();\r\n        \r\n    }\r\n\r\n    locatePoint = (alert, map) => {\r\n        renderAlert(alert, map);\r\n    }\r\n\r\n    getAlerts = () => {\r\n        var data = \"\";\r\n        var config = {\r\n        method: \"get\",\r\n        url: backend + \"/police/get-sos/\",\r\n        data: data,\r\n        };\r\n\r\n        axios(config)\r\n        .then((response) => {\r\n            if (response.data != null) {\r\n                this.setState({ alerts: response.data });\r\n                \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n            this.setState({ alerts: [] });\r\n        });\r\n        return []\r\n    }\r\n\r\n    getStations = () => {\r\n        var data = \"\";\r\n        var config = {\r\n        method: \"get\",\r\n        url: backend + \"/police/get-zones/\",\r\n        data: data,\r\n        };\r\n\r\n        axios(config)\r\n        .then((response) => {\r\n            if (response.data != null) {\r\n                this.setState({ zones: response.data });\r\n                \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n            this.setState({ alerts: [] });\r\n        });\r\n        return []\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const { lng, lat, zoom } = this.state;\r\n        const map = new mapboxgl.Map({\r\n            container: this.mapContainer.current,\r\n            style: 'mapbox://styles/mapbox/streets-v11',\r\n            center: [lng, lat],\r\n            zoom: zoom\r\n        });\r\n        this.map = map;\r\n        map.on('move', () => {\r\n            this.setState({\r\n                lng: map.getCenter().lng.toFixed(4),\r\n                lat: map.getCenter().lat.toFixed(4),\r\n                zoom: map.getZoom().toFixed(2)\r\n            });\r\n        });\r\n\r\n        map.addControl(\r\n            new MapboxDirections({\r\n              accessToken: mapboxgl.accessToken,\r\n              profile: 'mapbox/driving'\r\n            }),\r\n            'bottom-left'\r\n          );\r\n\r\n        // Add geolocate control to the map.\r\n        map.addControl(\r\n            new mapboxgl.GeolocateControl({\r\n                positionOptions: {\r\n                    enableHighAccuracy: true\r\n                },\r\n                trackUserLocation: true\r\n            })\r\n        );\r\n\r\n\r\n        loadClusters(map, mapboxgl);\r\n        this.getStations();\r\n        this.getAlerts();\r\n        getZones(map);\r\n        \r\n    }\r\n\r\n    flyToPoint = (alert, map) => {\r\n        console.log([alert.lat, alert.lon]);\r\n       \r\n            map.flyTo({\r\n                center: [(alert.lon), (alert.lat)],\r\n                zoom: 12,\r\n                essential: true // this animation is considered essential with respect to prefers-reduced-motion\r\n            });\r\n         \r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n        const { lng, lat } = this.state;\r\n      \r\n        return (\r\n                <Row>\r\n                    <Col md={8}>\r\n                        <div className=\"sidebar\">\r\n                            Longitude: {lng} | Latitude: {lat}\r\n                        </div>\r\n                        \r\n                        <div ref={this.mapContainer} className=\"map-container\" />\r\n                    \r\n                    </Col>\r\n                    <Col>\r\n                        <div>\r\n                            {!user ? (\r\n                                    <Card className=\"border border-dark bg-dark text-white mx-auto\">\r\n                                        <Card.Header className={\"text-center\"}>\r\n                                            <h5> Nearest Police Stations </h5>\r\n                                        </Card.Header>\r\n                                        \r\n                                        <Card.Body>\r\n                                            <ListGroup className={\"border border-dark bg-dark text-white\"}>\r\n                                               \r\n                                                {this.state.zones.map((zone) => (\r\n                                                    \r\n                                                    <ListGroup.Item\r\n                                                        key={zone.lat + zone.lon}\r\n                                                        className=\"bg-dark text-white\"\r\n                                                        >\r\n                                                        <Badge variant=\"success\">\r\n                                                            <Button variant=\"success\" \r\n                                                            id={zone.lat + zone.lon}\r\n                                                            onClick={() => this.flyToPoint(zone, this.map)}\r\n                                                            size='sm'><FontAwesomeIcon icon={faMapMarkerAlt} /></Button>\r\n                                                        </Badge> &nbsp;&nbsp;\r\n                                                        {zone.zone_name}\r\n                                                    </ListGroup.Item>\r\n                                                ))}                                    \r\n                                            </ListGroup>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                    \r\n                                ) : (\r\n\r\n                            <Card className=\"border border-dark bg-dark text-white mx-auto\">\r\n                                \r\n                                <Card.Header className={\"text-center\"}>\r\n                                    <h5> Live Alerts </h5> <Badge variant=\"danger\">Emergency</Badge>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                    <ListGroup className={\"border border-dark bg-dark text-white\"}>\r\n                                            {this.state.alerts.map((alert) => this.locatePoint(alert, this.map))}\r\n                                            {this.state.alerts.map((alert) => (\r\n                                                \r\n                                                <ListGroup.Item\r\n                                                    key={alert.name + alert.mobile}\r\n                                                    className=\"bg-dark text-white\"\r\n                                                    >\r\n                                                    <Badge variant=\"warning\">\r\n                                                        <Button variant=\"warning\" \r\n                                                        id={alert.name + alert.mobile}\r\n                                                        onClick={() => this.flyToPoint(alert, this.map)}\r\n                                                        size='sm'><FontAwesomeIcon icon={faMapMarkerAlt} /></Button>\r\n                                                    </Badge> &nbsp;&nbsp;\r\n                                                    {alert.description}\r\n                                                </ListGroup.Item>\r\n                                            ))}                                    \r\n                                        </ListGroup>\r\n\r\n                                </Card.Body>\r\n                            </Card>\r\n                                   \r\n                            )}\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n        );\r\n    }\r\n}\r\n","\r\nexport function loadClusters(map, mapboxgl) {\r\n    \r\n    map.on('load', function () {\r\n        // Add a new source from our GeoJSON data and\r\n        // set the 'cluster' option to true. GL-JS will\r\n        // add the point_count property to your source data.\r\n        map.addSource('crime', {\r\n            type: 'geojson',\r\n            // Point to GeoJSON data. This example visualizes all M1.0+ crime\r\n            // from 12/22/15 to 1/21/16 as logged by USGS' Earthquake hazards program.\r\n            data:\r\n                \"https://api.jsonbin.io/b/60a645c6d943f607a50b6253\",\r\n            cluster: true,\r\n            clusterMaxZoom: 14, // Max zoom to cluster points on\r\n            clusterRadius: 50 // Radius of each cluster when clustering points (defaults to 50)\r\n        });\r\n\r\n        map.addLayer({\r\n            id: 'clusters',\r\n            type: 'circle',\r\n            source: 'crime',\r\n            filter: ['has', 'point_count'],\r\n            paint: {\r\n                // Use step expressions (https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-step)\r\n                // with three steps to implement three types of circles:\r\n                //   * Blue, 20px circles when point count is less than 100\r\n                //   * Yellow, 30px circles when point count is between 100 and 750\r\n                //   * Pink, 40px circles when point count is greater than or equal to 750\r\n                'circle-color': [\r\n                    'step',\r\n                    ['get', 'point_count'],\r\n                    '#51bbd6',\r\n                    4,\r\n                    '#fff07d',\r\n                    10,\r\n                    '#f28cb1'\r\n                ],\r\n                'circle-radius': [\r\n                    'step',\r\n                    ['get', 'point_count'],\r\n                    20,\r\n                    4,\r\n                    30,\r\n                    8,\r\n                    40\r\n                ]\r\n            }\r\n        });\r\n\r\n        map.addLayer({\r\n            id: 'cluster-count',\r\n            type: 'symbol',\r\n            source: 'crime',\r\n            filter: ['has', 'point_count'],\r\n            layout: {\r\n                'text-field': '{point_count_abbreviated}',\r\n                'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                'text-size': 16\r\n            }\r\n        });\r\n\r\n        map.addLayer({\r\n            id: 'unclustered-point',\r\n            type: 'circle',\r\n            source: 'crime',\r\n            filter: ['!', ['has', 'point_count']],\r\n            paint: {\r\n                'circle-color': '#d64215',\r\n                'circle-radius': 8,\r\n                'circle-stroke-width': 1,\r\n                'circle-stroke-color': '#fff'\r\n            }\r\n        });\r\n\r\n        // inspect a cluster on click\r\n        map.on('click', 'clusters', function (e) {\r\n            var features = map.queryRenderedFeatures(e.point, {\r\n                layers: ['clusters']\r\n            });\r\n            var clusterId = features[0].properties.cluster_id;\r\n            map.getSource('crime').getClusterExpansionZoom(\r\n                clusterId,\r\n                function (err, zoom) {\r\n                    if (err) return;\r\n\r\n                    map.easeTo({\r\n                        center: features[0].geometry.coordinates,\r\n                        zoom: zoom\r\n                    });\r\n                }\r\n            );\r\n        });\r\n\r\n        // When a click event occurs on a feature in\r\n        // the unclustered-point layer, open a popup at\r\n        // the location of the feature, with\r\n        // description HTML from its properties.\r\n        var pop = new mapboxgl.Popup();\r\n        map.on('mouseenter', 'unclustered-point', function (e) {\r\n            map.getCanvas().style.cursor = 'pointer';\r\n            \r\n            var coordinates = e.features[0].geometry.coordinates.slice();\r\n            var mag = e.features[0].properties;\r\n            var html = \"\";\r\n            var year = mag.year;\r\n            var month = mag.month;\r\n            var day = mag.month;\r\n            var summary = mag.summary;\r\n            var state = mag.state;\r\n            var location = mag.location;\r\n            var city = mag.city;\r\n            var attack = mag['attack_type']\r\n\r\n            if(year) {\r\n                html += '<strong>Year/Month: </strong> ' + year + '/' + month;\r\n            }\r\n            if(state && city) {\r\n                html += '<br><strong>City: </strong> ' + city + '-' + state;\r\n            }\r\n            if(location) {\r\n                html += '<br><strong>Location: </strong> ' + location;\r\n            }\r\n            if(summary) {\r\n                html += '<br><strong>Summary: <br></strong> ' + summary;\r\n            }\r\n            if(attack) {\r\n                html += '<br><strong>Attack Type: </strong> ' + attack;\r\n            }\r\n            // Ensure that if the map is zoomed out such that\r\n            // multiple copies of the feature are visible, the\r\n            // popup appears over the copy being pointed to.\r\n            while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n            }\r\n\r\n            \r\n                pop.setLngLat(coordinates)\r\n                .setHTML(\r\n                     html\r\n                )\r\n                .addTo(map);\r\n        });\r\n\r\n        // map.on('mouseenter', 'clusters', function () {\r\n        //     map.getCanvas().style.cursor = 'pointer';\r\n        // });\r\n        map.on('mouseleave', 'clusters', function () {\r\n            map.getCanvas().style.cursor = '';\r\n            pop.remove();\r\n        });\r\n    });\r\n}","import React, { Component, lazy, Suspense } from 'react';\r\nimport axios from \"axios\";\r\nimport {\r\n\r\n  Card,\r\n\r\n  Col,\r\n\r\n  Row,\r\n\r\n  Modal,\r\n\r\n  Button\r\n\r\n} from 'react-bootstrap';\r\nimport backend from \"../config\";\r\nimport Chart from \"react-google-charts\";\r\n\r\n\r\nimport { JsonToTable } from \"react-json-to-table\";\r\n\r\nclass Stats extends Component {\r\n\r\n    constructor(props) {\r\n\r\n      super(props);\r\n\r\n      this.state = {\r\n\r\n          csvDataObject: [],\r\n          show: false,\r\n          states: [\"a&n islands\", \"andhra pradesh\", \"arunachal pradesh\", \"assam\", \"bihar\", \"chandigarh\", \"chhattisgarh\", \"d&n haveli\", \"daman&diu\", \"delhi ut\", \"goa\", \"gujarat\", \"haryana\", \"himachal pradesh\", \"jammu&kashmir\", \"jharkhand\", \"karnataka\", \"kerala\", \"lakshadweep\", \"madhya pradesh\", \"maharashtra\", \"manipur\", \"meghalaya\", \"mizoram\", \"nagaland\", \"odisha\", \"puducherry\", \"punjab\", \"rajasthan\", \"sikkim\", \"tamil nadu\", \"tripura\", \"uttar pradesh\", \"uttarakhand\", \"west bengal\"],\r\n          selectedState: \"andhra pradesh\",\r\n          stats: []\r\n      };\r\n\r\n    }\r\n\r\n\r\n    renderColumnNames = (colmunList) => {\r\n        return(\r\n\r\n           colmunList.map( (item, index) => {\r\n\r\n                return(\r\n\r\n                    <span key={index} className=\"mr-1 text-default\">{index+1}: {item}</span>\r\n\r\n                )\r\n\r\n          })\r\n\r\n       )\r\n\r\n    }\r\n\r\n    handleClose = () => this.setState({show: false});\r\n    handleShow = () => this.setState({show: true});\r\n    change = (e) => {\r\n        this.setState({selectedState: e.target.value});\r\n        const data = {\r\n            state: this.state.selectedState,\r\n        };\r\n        var config = {\r\n        method: \"post\",\r\n        url: backend + \"/bot/get-stats/\",\r\n        data: data,\r\n        };\r\n    \r\n            axios(config)\r\n            .then((response) => {\r\n                if (response.data != null) {\r\n                    this.setState({\r\n                        stats: response.data.stats\r\n                    });\r\n                    \r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                this.setState({ stats: [] });\r\n            });\r\n    }\r\n \r\n\r\n    renderCsvDataResults = () => {\r\n\r\n        if (this.state.csvDataObject && this.state.csvDataObject['State & Year']){\r\n            \r\n            var apiStatus = 'SUCCESS';\r\n\r\n            var apiData = this.state.csvDataObject;\r\n\r\n            var state_year = apiData['State & Year'];\r\n            console.log(apiData['Stats']);\r\n            if (apiStatus === 'SUCCESS'){\r\n\r\n                \r\n                return(\r\n\r\n                    <div>\r\n\r\n                        <span className=\"text-success\">Rows: <span className=\"text-primary\"><b>{state_year.rows}</b></span></span>\r\n\r\n                       <br/>\r\n\r\n                        <span className=\"text-success\">Columns: <span className=\"text-primary\"><b>{state_year.cols}</b></span></span>\r\n\r\n                        <br/>\r\n                        <br />\r\n                        <Button variant=\"primary\" size='sm' onClick={this.handleShow}>\r\n                            Visualize\r\n                        </Button>\r\n\r\n                        <hr/>\r\n\r\n                       <Card>\r\n\r\n                            <Card.Header>Grouped Records State & Year wise</Card.Header>\r\n\r\n                            <Card.Body className=\"mb-1\" style={{height:'400px', overflowY: \"auto\", overflow: \"-moz-scrollbars-horizontal\"}}>\r\n\r\n                                {/* <JsonTable rows={apiData.rowData} columns={apiData.columns} /> */}\r\n                                <JsonToTable json={state_year.rowData} />\r\n                                \r\n\r\n                            </Card.Body>\r\n                        </Card>\r\n                        <Modal\r\n                            show={this.state.show}\r\n                            onHide={this.handleClose}\r\n                            dialogClassName=\"modal-120w\"\r\n                            size=\"xl\"\r\n                            aria-labelledby=\"example-custom-modal-styling-title\"\r\n                        >\r\n                            <Modal.Header closeButton>\r\n                            <Modal.Title id=\"example-custom-modal-styling-title\">\r\n                                Visualizations\r\n                            </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n\r\n                            <select value={this.state.selectedState}\r\n                                onChange={this.change}>\r\n                                {this.state.states.map((s) => <option key={s} value={s}>{s}</option>)}\r\n                            </select>\r\n                            <div style={{ display: 'flex', maxWidth: 900 }}>\r\n                                <Chart\r\n                                    height={'500px'}\r\n                                    width={'1110px'}\r\n                                    chartType=\"AreaChart\"\r\n                                    loader={<div>Loading Chart</div>}\r\n                                    data={this.state.stats}\r\n                                    options={{\r\n                                    title: 'Grouped By State & Year',\r\n                                    hAxis: { title: 'Year', titleTextStyle: { color: '#333' } },\r\n                                    vAxis: { minValue: 0 },\r\n                                    // For the legend to fit, we make the chart area smaller\r\n                                    chartArea: { width: '66%', height: '77%' },\r\n                                    // lineWidth: 25\r\n                                    }}\r\n                                />\r\n                                </div>\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                    </div>\r\n\r\n                )\r\n\r\n            } else {\r\n\r\n                return(\r\n\r\n                    <div>\r\n\r\n                        <span className=\"text-danger\">loading...</span>\r\n\r\n                    </div>\r\n\r\n                )\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    HelloGetRequestedDetails = () => {\r\n        \r\n       \r\n            var data = \"\";\r\n            var config = {\r\n            method: \"get\",\r\n            url: backend + \"/police/get-stats/\",\r\n            data: data,\r\n            };\r\n    \r\n            axios(config)\r\n            .then((response) => {\r\n                if (response.data != null) {\r\n                    this.setState({\r\n                        csvDataObject: response.data\r\n                    });\r\n                    \r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                this.setState({ csvDataObject: [] });\r\n            });\r\n            \r\n        \r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n      this.HelloGetRequestedDetails();\r\n\r\n    }\r\n\r\n\r\n   loading = () => <div className=\"text-success\"><strong>Loading...</strong></div>\r\n\r\n  \r\n\r\n    render() {\r\n\r\n      return (\r\n\r\n        <div className=\"animated fadeIn\">\r\n\r\n          <Row>\r\n           <Col md={12}>\r\n\r\n              <h3>Crime Statistics</h3>\r\n              <hr/>\r\n              {this.state.csvDataObject ? this.renderCsvDataResults() : this.loading()}\r\n              \r\n            </Col>\r\n\r\n          </Row>\r\n        </div>\r\n\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default Stats;","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport NavigationBar from \"./components/NavigationBar\";\r\nimport ChatBox from \"./components/ChatWidget\";\r\nimport Welcome from \"./components/Welcome\";\r\nimport Permission from \"./components/Permission\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Login from \"./components/Login\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Details from \"./components/Details\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Status from \"./components/Status\";\r\nimport LiveMap from \"./components/LiveMap\";\r\nimport Stats from \"./components/Stats\";\r\n\r\nclass App extends Component {\r\n  state = {};\r\n\r\n \r\n  componentDidMount() {\r\n    \r\n    try {\r\n      const uid = localStorage.getItem(\"uid\");\r\n      const email = localStorage.getItem(\"email\");\r\n      if (uid && email) {\r\n        const user = {\r\n          uid,\r\n          email,\r\n        };\r\n        this.setState({ user });\r\n      }\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n  }\r\n\r\n  handleChange = () => {\r\n    try {\r\n      const uid = localStorage.getItem(\"uid\");\r\n      const email = localStorage.getItem(\"email\");\r\n      if (uid && email) {\r\n        const user = {\r\n          uid,\r\n          email,\r\n        };\r\n        this.setState({ user });\r\n      }\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const marginTop = { marginTop: \"30px\" };\r\n    return (\r\n      <div>\r\n        \r\n        <Router>\r\n          <NavigationBar user={this.state.user} />\r\n          <ToastContainer />\r\n          <Container >\r\n            <Row>\r\n              <Col lg={12} style={marginTop}>\r\n                <Switch>\r\n                  <Route\r\n                    path=\"/\"\r\n                    exact\r\n                    render={(props) => (\r\n                      <Welcome\r\n                        {...props}\r\n                        user={this.state.user}\r\n                        handleChange={this.handleChange}\r\n                      />\r\n                    )}\r\n                  />\r\n                  <Route\r\n                    path=\"/dashboard\"\r\n                    exact\r\n                    render={(props) => {\r\n                      if (!this.state.user) return <Redirect to=\"/\" />;\r\n                      return <Dashboard {...props} />;\r\n                    }}\r\n                  />\r\n\r\n                  <Route path=\"/status\" exact component={Status} />\r\n                  <Route path='/api' component={() => { \r\n                      window.location.href = 'http://localhost:8000/bot'; \r\n                      return null;\r\n                  }}/>\r\n                  <Route\r\n                    path=\"/login\"\r\n                    exact\r\n                    render={(props) => {\r\n                      if (this.state.user) return <Redirect to=\"/\" />;\r\n                      return <Login {...props} />;\r\n                    }}\r\n                  />\r\n                  <Route\r\n                    path=\"/dashboard/:id\"\r\n                    exact\r\n                    render={(props) => {\r\n                      if (!this.state.user) return <Redirect to=\"/\" />;\r\n                      return <Details {...props} />;\r\n                    }}\r\n                  />\r\n\r\n                   <Route\r\n                      path=\"/sos\"\r\n                      exact\r\n                      render={(props) => {\r\n                        return <LiveMap {...props} user={this.state.user}/>;\r\n                      }}\r\n                    />\r\n\r\n                    <Route\r\n                      path=\"/stats\"\r\n                      exact\r\n                      render={(props) => {\r\n                        return <Stats />;\r\n                      }}\r\n                    />  \r\n\r\n\r\n                  <Redirect to=\"/\" />\r\n                </Switch>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Router>\r\n        <ChatBox />\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}